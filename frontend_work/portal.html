<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ===========================================================
       DMTools Portal (Clean + Correct Messaging)
       CURRENT TRUTH (matches your system today):
         - Subscriptions unlock Pro Features AND include monthly responses.
         - Response Packs add extra responses for subscribers,
           OR unlock core reply generation for non-subscribers.
       =========================================================== -->
  <meta charset="UTF-8" />

  <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K0G9YRD39L"></script>
    <script>
// ----------------------------
// [BANNERS] HIGH-RISK BOUNDARIES (drop-in replacement anchors)
// ----------------------------

        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-K0G9YRD39L');
    </script>
  
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DMTools Portal</title>
  <meta name="description" content="DMTools portal: core tools (responses) + pro features (subscription)." />

  <!-- Your existing site styling -->
  <link rel="stylesheet" href="styles.css" />
  
  <style>
    /* Minimal page-specific styles ONLY */
    .portal-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-top: 16px;
    }
    @media (max-width: 980px){
      .portal-grid { grid-template-columns: 1fr; }
    }
    .portal-meta {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
      align-items:center;
    }
    .pill {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      opacity: .95;
    }
    .pill.good{ border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.10); }
    .pill.warn{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.10); }
    .pill.bad{ border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.10); }

    .portal-actions {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 14px;
    }
    .muted { opacity: .82; line-height: 1.5; }
    .locked { opacity: .58; filter: saturate(.9); }

    /* Toast */
    .toast {
      position: fixed;
      top: 16px;
      right: 16px;
      width: min(420px, calc(100% - 32px));
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(10,10,18,.92);
      border-radius: 16px;
      padding: 12px 14px;
      box-shadow: 0 18px 55px rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity .18s ease, transform .18s ease;
      z-index: 9999;
      pointer-events: none;
    }
    .toast.show{ opacity: 1; transform: translateY(0); }
    .toast strong{ display:block; margin-bottom: 2px; font-size: 13px; }
    .toast span{ opacity: .88; font-size: 12.5px; line-height: 1.35; display:block; }
  </style>
</head>

<body>
  <script src="/js/app-core.js"></script>
  <script src="/js/auth-modal.js"></script>
  <script>
// ----------------------------
// [BANNER-POR-001] PORTAL AUTH REDIRECT (token gate)
// ----------------------------

    (function () {
      const token = localStorage.getItem('token');
      if (!token) {
        if (window.DMTOOLS?.openAuthModal) {
          window.DMTOOLS.openAuthModal('login', { returnTo: '/packs.html' });
        } else {
          window.location.href = '/login.html?returnTo=%2Fpacks.html';
        }
        return;
      }
      window.location.replace('/packs.html');
    })();
  </script>
</body>

</html>
